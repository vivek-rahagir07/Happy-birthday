<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Birthday Bahan!</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React & ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <!-- Babel for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Confetti Library -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Playfair+Display:wght@400;700;900&display=swap"
    rel="stylesheet">

  <style>
    .font-handwriting {
      font-family: 'Dancing Script', cursive;
    }

    .font-serif {
      font-family: 'Playfair Display', serif;
    }

    @keyframes float {
      0% {
        transform: translateY(0px) rotate(0deg);
        opacity: 0;
      }

      10% {
        opacity: 1;
      }

      90% {
        opacity: 1;
      }

      100% {
        transform: translateY(-100vh) rotate(360deg);
        opacity: 0;
      }
    }

    .animate-float {
      animation: float linear infinite;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-fade-in-up {
      animation: fadeIn 0.8s ease-out forwards;
    }

    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.9);
      }

      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .animate-scale-in {
      animation: scaleIn 0.8s ease-out forwards;
    }

    @keyframes float-balloon {
      0% {
        transform: translateY(100vh) translateX(0);
        opacity: 0;
      }

      10% {
        opacity: 0.8;
      }

      90% {
        opacity: 0.8;
      }

      100% {
        transform: translateY(-20vh) translateX(20px);
        opacity: 0;
      }
    }

    .animate-float-balloon {
      animation: float-balloon linear infinite;
    }

    .reveal {
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.8s ease-out;
    }

    .reveal.active {
      opacity: 1;
      transform: translateY(0);
    }

    .balloon-string {
      width: 1px;
      height: 40px;
      background: rgba(0, 0, 0, 0.1);
      margin: 0 auto;
    }
  </style>
</head>

<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    // --- Icons (Inlined for standalone HTML) ---
    const Heart = ({ size = 24, className = "", fill = "none" }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill={fill} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" /></svg>
    );
    const Gift = ({ size = 24, className = "" }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="3" y="8" width="18" height="4" rx="1" /><path d="M12 8v13" /><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7" /><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5" /></svg>
    );
    const Camera = ({ size = 24, className = "" }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z" /><circle cx="12" cy="13" r="3" /></svg>
    );
    const Star = ({ size = 24, className = "" }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" /></svg>
    );
    const Sparkles = ({ size = 24, className = "" }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z" /><path d="M5 3v4" /><path d="M9 3v4" /><path d="M3 5h4" /><path d="M3 9h4" /></svg>
    );
    const ChevronRight = ({ size = 24, className = "" }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m9 18 6-6-6-6" /></svg>
    );
    const Volume2 = ({ size = 24, className = "" }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M11 5 6 9H2v6h4l5 4V5z" /><path d="M19.07 4.93a10 10 0 0 1 0 14.14" /><path d="M15.54 8.46a5 5 0 0 1 0 7.08" /></svg>
    );
    const VolumeX = ({ size = 24, className = "" }) => (
      <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M11 5 6 9H2v6h4l5 4V5z" /><line x1="23" y1="9" x2="17" y2="15" /><line x1="17" y1="9" x2="23" y2="15" /></svg>
    );

    // --- Components ---

    const triggerConfetti = () => {
      if (window.confetti) {
        const duration = 3000;
        const end = Date.now() + duration;

        (function frame() {
          window.confetti({
            particleCount: 5,
            angle: 60,
            spread: 55,
            origin: { x: 0 },
            colors: ['#FF69B4', '#FFD700', '#FFB6C1', '#87CEEB']
          });
          window.confetti({
            particleCount: 5,
            angle: 120,
            spread: 55,
            origin: { x: 1 },
            colors: ['#FF69B4', '#FFD700', '#FFB6C1', '#87CEEB']
          });

          if (Date.now() < end) {
            requestAnimationFrame(frame);
          }
        }());
      }
    };

    const PhotoCard = ({ src, caption, rotate }) => (
      <div
        className={`relative group bg-white p-3 pb-8 shadow-xl transform transition-all duration-500 hover:scale-105 hover:z-10 ${rotate}`}
        style={{ maxWidth: '280px' }}
      >
        <div className="absolute -top-3 left-1/2 transform -translate-x-1/2 w-8 h-8 bg-pink-100 rounded-full shadow-inner opacity-80 z-20"></div>
        <div className="overflow-hidden rounded-sm border border-gray-100 aspect-square bg-gray-100">
          <img
            src={src}
            alt={caption}
            className="w-full h-full object-cover filter sepia-[0.2] group-hover:sepia-0 transition-all duration-500"
            onError={(e) => {
              e.target.src = `https://placehold.co/400x400/pink/white?text=${encodeURIComponent(caption)}`;
            }}
          />
        </div>
        <div className="mt-4 text-center font-handwriting text-gray-600 text-lg group-hover:text-pink-600 transition-colors">
          {caption}
        </div>
      </div>
    );

    const FloatingIcon = ({ icon: Icon, delay, duration, left }) => (
      <div
        className="absolute text-pink-200 animate-float pointer-events-none"
        style={{
          left: `${left}%`,
          animationDelay: `${delay}s`,
          animationDuration: `${duration}s`,
          fontSize: `${Math.random() * 20 + 20}px`,
          bottom: '-50px'
        }}
      >
        <Icon />
      </div>
    );

    const VirtualCake = ({ onBlow, blown }) => (
      <div className="relative flex flex-col items-center justify-center mt-12 mb-8 cursor-pointer group" onClick={onBlow}>
        {!blown && <div className="absolute -top-12 animate-bounce text-pink-500 font-bold bg-white px-4 py-1 rounded-full shadow-lg text-sm">Tap to blow out!</div>}

        {/* Candles */}
        <div className="flex gap-4 mb-0 z-10">
          {[1, 2, 3].map(i => (
            <div key={i} className="relative flex flex-col items-center">
              {/* Flame */}
              <div
                className={`w-4 h-6 bg-yellow-400 rounded-full blur-[2px] transition-all duration-500 ${blown ? 'opacity-0 scale-0' : 'animate-pulse opacity-100 scale-100'}`}
                style={{ boxShadow: '0 0 20px #FFD700' }}
              >
                <div className="w-2 h-4 bg-orange-500 rounded-full mx-auto mt-1 opacity-70"></div>
              </div>
              {/* Wick */}
              <div className="w-1 h-3 bg-gray-800 -mt-1"></div>
              {/* Candle Stick */}
              <div className="w-4 h-16 bg-gradient-to-b from-blue-300 to-blue-500 rounded-sm border-2 border-white/30 shadow-md">
                <div className="w-full h-2 bg-white/30 mt-2 transform -skew-y-12"></div>
              </div>
            </div>
          ))}
        </div>

        {/* Cake Body */}
        <div className="relative">
          {/* Frosting drips */}
          <div className="absolute -top-2 w-full flex justify-between px-1 z-10">
            {[1, 2, 3, 4, 5, 6].map(i => (
              <div key={i} className="w-6 h-6 bg-pink-300 rounded-full -ml-2"></div>
            ))}
          </div>
          {/* Top Layer */}
          <div className="w-64 h-24 bg-gradient-to-r from-pink-300 to-pink-400 rounded-t-2xl relative shadow-inner flex items-center justify-center">
            <div className="text-white/50 text-xs font-bold tracking-widest uppercase">Make a Wish</div>
          </div>
          {/* Bottom Layer */}
          <div className="w-72 h-20 bg-gradient-to-r from-pink-400 to-pink-500 -mt-1 rounded-b-xl shadow-xl relative -mx-4 flex items-center justify-center border-t-4 border-pink-300/50">
            {/* Decoration */}
            <div className="w-full h-full absolute top-0 left-0 overflow-hidden opacity-20">
              <div className="w-10 h-10 bg-white rounded-full absolute top-4 left-4"></div>
              <div className="w-10 h-10 bg-white rounded-full absolute bottom-4 right-10"></div>
              <div className="w-10 h-10 bg-white rounded-full absolute top-8 right-1/2"></div>
            </div>
          </div>
          {/* Plate */}
          <div className="absolute -bottom-4 -left-8 w-[22rem] h-8 bg-gray-100 rounded-[50%] shadow-xl -z-10 border-b-4 border-gray-200"></div>
        </div>
      </div>
    );

    const Balloon = ({ color, left, delay, duration }) => (
      <div
        className="absolute animate-float-balloon pointer-events-none z-0"
        style={{
          left: `${left}%`,
          animationDelay: `${delay}s`,
          animationDuration: `${duration}s`,
          bottom: '-100px'
        }}
      >
        <div className={`w-12 h-16 rounded-full ${color} shadow-lg relative`}>
          <div className="absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 rotate-45 bg-inherit"></div>
        </div>
        <div className="balloon-string"></div>
      </div>
    );

    const App = () => {
      const [stage, setStage] = useState('gift'); // gift, celebration
      const [candlesBlown, setCandlesBlown] = useState(false);
      const [showMessage, setShowMessage] = useState(false);
      const [isMuted, setIsMuted] = useState(false);
      const audioRef = useRef(null);

      useEffect(() => {
        const observerOptions = {
          threshold: 0.1
        };

        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('active');
            }
          });
        }, observerOptions);

        const revealedElements = document.querySelectorAll('.reveal');
        revealedElements.forEach(el => observer.observe(el));

        return () => observer.disconnect();
      }, [stage]);

      const toggleMute = () => {
        if (audioRef.current) {
          audioRef.current.muted = !isMuted;
          setIsMuted(!isMuted);
        }
      };

      const handleOpenGift = () => {
        triggerConfetti();
        setStage('celebration');
        if (audioRef.current) {
          audioRef.current.play().catch(err => console.log("Audio play blocked:", err));
        }
        setTimeout(() => {
          triggerConfetti();
        }, 500);
      };

      const handleBlowCandles = () => {
        if (!candlesBlown) {
          setCandlesBlown(true);
          triggerConfetti();
          setTimeout(() => setShowMessage(true), 1000);
        }
      };

      const SISTER_NAME = "Raushni";
      const MEMORIES = [
        { src: "photoes/1.jpg", caption: "Rahagir", rotate: "rotate-2" },
        { src: "photoes/2.jpg", caption: "Happy Rakshabandhan", rotate: "-rotate-2" },
        { src: "photoes/3.jpg", caption: "Always with you", rotate: "rotate-1" },
      ];

      const BALLOON_COLORS = ['bg-pink-400', 'bg-purple-400', 'bg-blue-400', 'bg-yellow-400', 'bg-red-400'];

      if (stage === 'gift') {
        return (
          <div className="min-h-screen bg-pink-50 flex flex-col items-center justify-center p-4 relative overflow-hidden">
            <audio ref={audioRef} src="audios/music.mp3" loop />

            {/* Background Balloons */}
            {[...Array(15)].map((_, i) => (
              <Balloon
                key={i}
                color={BALLOON_COLORS[i % BALLOON_COLORS.length]}
                left={Math.random() * 100}
                delay={Math.random() * 10}
                duration={15 + Math.random() * 10}
              />
            ))}

            {/* Background Elements */}
            {[...Array(10)].map((_, i) => (
              <FloatingIcon key={i} icon={i % 2 === 0 ? Heart : Star} delay={i * 0.5} duration={4 + i} left={i * 10} />
            ))}

            <div className="z-10 text-center animate-fade-in-up">
              <h1 className="text-3xl md:text-5xl font-handwriting text-pink-600 mb-8 font-bold">
                I have a surprise for you...
              </h1>

              <button
                onClick={handleOpenGift}
                className="group relative bg-white p-8 rounded-2xl shadow-2xl transition-all duration-300 hover:-translate-y-2 hover:shadow-pink-200/50 cursor-pointer"
              >
                <Gift size={80} className="text-pink-500 group-hover:scale-110 transition-transform duration-500" />
                <div className="absolute -top-2 -right-2 bg-yellow-400 text-yellow-900 text-xs font-bold px-3 py-1 rounded-full animate-bounce">
                  Click Me!
                </div>
                <p className="mt-4 text-gray-500 font-medium group-hover:text-pink-500">To: {SISTER_NAME}</p>

              </button>
            </div>
          </div>
        );
      }

      return (
        <div className="min-h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50 overflow-x-hidden relative">
          <audio ref={audioRef} src="audios/music.mp3" loop />

          {/* Floating Music Toggle */}
          <button
            onClick={toggleMute}
            className="fixed top-6 right-6 z-50 p-4 bg-white/80 backdrop-blur-md rounded-full shadow-lg hover:scale-110 transition-all text-pink-500 border border-pink-100"
          >
            {isMuted ? <VolumeX size={24} /> : <Volume2 size={24} />}
          </button>

          {/* Background Balloons */}
          {[...Array(10)].map((_, i) => (
            <Balloon
              key={i}
              color={BALLOON_COLORS[i % BALLOON_COLORS.length]}
              left={Math.random() * 100}
              delay={Math.random() * 20}
              duration={20 + Math.random() * 10}
            />
          ))}

          {/* Hero Header */}
          <header className="relative h-screen flex flex-col items-center justify-center text-center p-4">
            <div className="absolute inset-0 overflow-hidden pointer-events-none">
              {[...Array(6)].map((_, i) => (
                <div key={i} className={`absolute text-pink-200/60 animate-float opacity-50`} style={{
                  left: `${Math.random() * 100}%`,
                  top: `${Math.random() * 100}%`,
                  animationDuration: `${10 + Math.random() * 10}s`
                }}>
                  <Sparkles size={40 + Math.random() * 40} />
                </div>
              ))}
            </div>

            <div className="z-10 animate-scale-in">
              <div className="inline-block bg-yellow-100 text-yellow-700 px-4 py-1 rounded-full text-sm font-bold mb-6 tracking-wide uppercase shadow-sm border border-yellow-200">
                It's your special day
              </div>
              <h1 className="text-5xl md:text-8xl font-black text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-purple-600 mb-4 drop-shadow-sm font-serif">
                Happy Birthday, <br />
                <span className="font-handwriting text-6xl md:text-9xl text-pink-500 inline-block mt-2 transform -rotate-2">{SISTER_NAME}!</span>
              </h1>
              <p className="text-xl md:text-2xl text-gray-600 max-w-lg mx-auto leading-relaxed mt-6">
                To the person who makes the world brighter just by being in it.
              </p>

              <div className="mt-12 animate-bounce-slow">
                <ChevronRight className="rotate-90 text-pink-400 w-8 h-8 mx-auto" />
              </div>
            </div>
          </header>

          {/* Memory Gallery */}
          <section className="py-20 px-4 max-w-6xl mx-auto reveal">
            <div className="flex items-center justify-center gap-2 mb-16">
              <Camera className="text-pink-400" />
              <h2 className="text-3xl md:text-4xl font-bold text-gray-800 font-serif">Memory Lane</h2>
            </div>

            <div className="flex flex-wrap justify-center gap-8 md:gap-12 pb-12">
              {MEMORIES.map((mem, idx) => (
                <PhotoCard key={idx} {...mem} />
              ))}
            </div>
          </section>

          {/* The Letter */}
          <section className="py-20 bg-white/50 relative reveal">
            <div className="max-w-2xl mx-auto px-6">
              <div className="bg-white p-8 md:p-12 rounded-lg shadow-xl border border-pink-100 transform rotate-1">
                <div className="absolute -top-4 -left-4 text-pink-200">
                  <Heart size={60} fill="currentColor" />
                </div>

                <h3 className="text-2xl font-bold text-gray-800 mb-6 font-serif">Dear {SISTER_NAME},</h3>
                <div className="space-y-4 text-lg text-gray-600 leading-relaxed font-handwriting text-xl">
                  <p>
                    Happy Birthday, Raushni bhen! üéÇ‚ú®
                  </p>
                  <p>
                    May your life always be filled with happiness, peace, and endless reasons to smile. No matter what situation life puts you in, I hope you keep that beautiful smile on your face and face everything with strength and grace.
                  </p>
                  <p>
                    Stay positive, stay strong, and keep spreading your warmth wherever you go. You deserve all the love, success, and joy in the world‚Äîtoday and always.
                  </p>
                  <p>
                    Have an amazing birthday and an even more amazing year ahead! üíïüå∏üéà
                  </p>
                </div>
                <div className="mt-8 pt-6 border-t border-gray-100 flex justify-between items-center">
                  <span className="font-bold text-gray-400 text-sm uppercase tracking-widest">With Love</span>
                  <Heart className="text-red-400 animate-pulse" fill="currentColor" size={20} />
                </div>
              </div>
            </div>
          </section>

          {/* Interactive Cake */}
          <section className="min-h-[70vh] flex flex-col items-center justify-center py-20 relative reveal">
            <h2 className="text-3xl md:text-5xl font-bold text-gray-800 mb-8 font-serif text-center">
              {candlesBlown ? "Yay! Make a Wish!" : "One Last Thing..."}
            </h2>

            <VirtualCake onBlow={handleBlowCandles} blown={candlesBlown} />

            {showMessage && (
              <div className="mt-8 text-center animate-fade-in-up px-4">
                <p className="text-2xl md:text-4xl font-handwriting text-pink-600 mb-4">
                  May all your wishes come true! ‚ú®
                </p>
                <div className="flex gap-4 justify-center mt-8">
                  <button onClick={triggerConfetti} className="bg-pink-500 text-white px-6 py-3 rounded-full font-bold shadow-lg hover:bg-pink-600 transition-colors flex items-center gap-2">
                    <Sparkles size={20} /> Celebrate Again
                  </button>
                </div>
              </div>
            )}
          </section>

          <footer className="py-8 text-center text-gray-400 text-sm">
            Made with ‚ù§Ô∏è for my sister
          </footer>
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>

</html>